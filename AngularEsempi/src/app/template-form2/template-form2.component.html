<form id=formId (ngSubmit)="onSubmit(refForm)" #refForm="ngForm">
    <fieldset ngModelGroup='name'>
        <div class="form-group" [ngClass]="{'has-danger': firstName.invalid && (firstName.dirty || firstName.touched),
                                            'has-success': firstName.valid && (firstName.dirty || firstName.touched)}">
            <label for="firstName">First Name</label>
            <input type="text" class="form-control" [(ngModel)]="model.firstName" #firstName='ngModel' name='firstName' required>
            <div class="form-control-feedback" *ngIf="firstName.errors && (firstName.dirty || firstName.touched)">
                <p *ngIf="firstName.errors.required">Field is required!</p>
            </div>
        </div>
        <div class="form-group" [ngClass]="{'has-danger': lastName.invalid && (lastName.dirty || lastName.touched),
        'has-success': lastName.valid && (lastName.dirty || lastName.touched)}">
            <label for="lastName">Last Name</label>
            <input type="text" class="form-control" [(ngModel)]="model.lastName" #lastName='ngModel' name='lastName' required>
            <div class="form-control-feedback" *ngIf="lastName.errors && (lastName.dirty || lastName.touched)">
                <p *ngIf="lastName.errors.required">Field is required!</p>
            </div>
        </div>
    </fieldset>
    <button type="submit">Submit</button>
    <pre>{{refForm.value | json}}</pre>
</form>